<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DMA Export Schema Reference | Dynatrace Migration Assistant</title>
    <style>
        :root {
            --db-header-bg: #14172b;
            --db-nav-dark: #1a1d2e;
            --db-accent-purple: #7c5dc7;
            --db-accent-blue: #4da6e8;
            --db-accent-green: #6abf4b;
            --content-bg: #ffffff;
            --content-card: #f8f9fa;
            --text-dark: #1a1a2e;
            --text-body: #3a3a4a;
            --text-muted: #6c757d;
            --text-light: #ffffff;
            --accent-blue: #1456ff;
            --success: #6abf4b;
            --border-light: #e0e0e0;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            line-height: 1.45;
            color: var(--text-dark);
            background: var(--content-bg);
            font-size: 14px;
        }

        /* Header - Compact */
        .header-banner {
            background: var(--db-header-bg);
            padding: 20px 16px;
            text-align: center;
        }
        .header-content { max-width: 900px; margin: 0 auto; }
        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-bottom: 8px;
        }
        .logo-image { height: 36px; width: 36px; object-fit: contain; }
        .logo-text { font-size: 1.5em; font-weight: 700; color: var(--text-light); }
        .logo-text .highlight { color: var(--db-accent-purple); }
        .header-tagline {
            color: rgba(255,255,255,0.6);
            font-size: 0.85em;
            margin-bottom: 10px;
        }
        .version-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: rgba(255,255,255,0.08);
            border: 1px solid rgba(255,255,255,0.15);
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.75em;
            color: rgba(255,255,255,0.7);
        }
        .version-badge .dot { width: 5px; height: 5px; background: var(--success); border-radius: 50%; }
        .doc-title { margin-top: 12px; padding-top: 10px; border-top: 1px solid rgba(255,255,255,0.1); }
        .doc-title h2 { color: var(--text-light); font-size: 1.1em; font-weight: 600; margin: 0; padding: 0; border: none; }

        /* Navigation - Compact */
        .doc-nav {
            background: var(--db-nav-dark);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        .doc-nav-inner { max-width: 1100px; margin: 0 auto; display: flex; flex-wrap: wrap; justify-content: center; }
        .doc-nav a {
            color: rgba(255,255,255,0.55);
            text-decoration: none;
            font-size: 0.78em;
            font-weight: 500;
            padding: 10px 14px;
            border-bottom: 2px solid transparent;
            transition: all 0.15s;
        }
        .doc-nav a:hover { color: var(--text-light); background: rgba(255,255,255,0.05); border-bottom-color: var(--db-accent-purple); }

        /* Content - Tight */
        .content { max-width: 900px; margin: 0 auto; padding: 20px 24px 30px; }

        /* Typography - Compact */
        h1 {
            color: var(--text-dark);
            font-size: 1.6em;
            font-weight: 700;
            margin-bottom: 4px;
            padding-bottom: 8px;
            border-bottom: 2px solid var(--db-accent-purple);
        }
        h2 {
            color: var(--text-dark);
            font-size: 1.25em;
            font-weight: 600;
            margin-top: 20px;
            margin-bottom: 6px;
            padding-bottom: 4px;
            border-bottom: 1px solid var(--border-light);
        }
        h3 {
            color: var(--text-dark);
            font-size: 1.05em;
            font-weight: 600;
            margin-top: 14px;
            margin-bottom: 4px;
        }
        h4 {
            color: var(--text-dark);
            font-size: 0.95em;
            font-weight: 600;
            margin-top: 10px;
            margin-bottom: 3px;
        }
        h5, h6 {
            color: var(--text-dark);
            font-size: 0.9em;
            font-weight: 600;
            margin-top: 8px;
            margin-bottom: 2px;
        }
        p { margin-bottom: 8px; color: var(--text-body); }
        strong { color: var(--text-dark); font-weight: 600; }
        a { color: var(--accent-blue); text-decoration: none; }
        a:hover { text-decoration: underline; }

        /* Code - Compact */
        pre {
            background: #1e1e2e;
            border: 1px solid #2d2d3d;
            border-radius: 4px;
            padding: 10px 12px;
            overflow-x: auto;
            margin: 8px 0;
            font-family: 'SF Mono', Monaco, Consolas, monospace;
            font-size: 0.82em;
            line-height: 1.4;
            color: #e0e0e0;
        }
        code {
            background: #f0f0f2;
            color: #c7254e;
            padding: 1px 4px;
            border-radius: 3px;
            font-family: 'SF Mono', Monaco, Consolas, monospace;
            font-size: 0.85em;
        }
        pre code { background: none; padding: 0; color: #e0e0e0; }

        /* Tables - Compact */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 10px 0;
            font-size: 0.88em;
            border: 1px solid var(--border-light);
        }
        th {
            background: var(--db-nav-dark);
            color: var(--text-light);
            padding: 8px 10px;
            text-align: left;
            font-weight: 600;
            font-size: 0.8em;
            text-transform: uppercase;
            letter-spacing: 0.02em;
        }
        td {
            padding: 7px 10px;
            border-bottom: 1px solid var(--border-light);
            color: var(--text-body);
        }
        tr:last-child td { border-bottom: none; }
        tr:nth-child(even) td { background: #f9f9fb; }

        /* Lists - Tight */
        ul, ol { margin: 6px 0; padding-left: 20px; color: var(--text-body); }
        li { margin-bottom: 2px; }
        li::marker { color: var(--db-accent-purple); }

        /* Blockquotes */
        blockquote {
            background: var(--content-card);
            border-left: 3px solid var(--db-accent-purple);
            border-radius: 0 4px 4px 0;
            padding: 8px 12px;
            margin: 10px 0;
        }
        blockquote p { margin-bottom: 0; }

        /* HR - Minimal */
        hr { border: none; border-top: 1px solid var(--border-light); margin: 16px 0; }

        /* Footer - Compact */
        .footer { background: var(--db-nav-dark); padding: 20px 16px; text-align: center; }
        .footer-content { max-width: 600px; margin: 0 auto; }
        .footer-logo { font-size: 1em; font-weight: 700; color: var(--text-light); margin-bottom: 6px; }
        .footer-logo .highlight { color: var(--db-accent-purple); }
        .footer p { color: rgba(255,255,255,0.5); font-size: 0.8em; margin-bottom: 4px; }
        .footer-links { display: flex; justify-content: center; gap: 16px; margin-top: 10px; flex-wrap: wrap; }
        .footer-links a { color: rgba(255,255,255,0.45); font-size: 0.75em; }
        .footer-links a:hover { color: var(--db-accent-purple); text-decoration: none; }
        .footer-copyright {
            margin-top: 12px;
            padding-top: 10px;
            border-top: 1px solid rgba(255,255,255,0.08);
            font-size: 0.7em;
            color: rgba(255,255,255,0.35);
        }

        /* Print */
        @media print {
            .doc-nav, .footer { display: none; }
            .content { max-width: 100%; padding: 12px; }
            .header-banner { padding: 12px; }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-banner { padding: 16px 12px; }
            .logo-text { font-size: 1.2em; }
            .logo-image { height: 28px; width: 28px; }
            .content { padding: 16px 12px; }
            h1 { font-size: 1.4em; }
            h2 { font-size: 1.15em; }
            table { font-size: 0.82em; }
            th, td { padding: 6px 8px; }
            .doc-nav a { padding: 8px 10px; font-size: 0.72em; }
        }
    </style>
</head>
<body>
    <header class="header-banner">
        <div class="header-content">
            <div class="logo-container">
                <img class="logo-image" src="dma-symbol.png" alt="DMA" onerror="this.style.display='none'" />
                <div class="logo-text">Dynatrace Migration Assistant</div>
            </div>
            <p class="header-tagline">Migration Intelligence Platform for Splunk to Dynatrace</p>
            <span class="version-badge"><span class="dot"></span>Version 4.0.1</span>
            <div class="doc-title"><h2>DMA Export Schema Reference</h2></div>
        </div>
    </header>

    <nav class="doc-nav">
        <div class="doc-nav-inner">
            <a href="README-SPLUNK-ENTERPRISE.html">Enterprise README</a>
            <a href="README-SPLUNK-CLOUD.html">Cloud README</a>
            <a href="SPLUNK-ENTERPRISE-EXPORT-SPECIFICATION.html">Enterprise Spec</a>
            <a href="SPLUNK-CLOUD-EXPORT-SPECIFICATION.html">Cloud Spec</a>
            <a href="SCRIPT-GENERATED-ANALYTICS-REFERENCE.html">Analytics Reference</a>
            <a href="EXPORT-SCHEMA.html">Export Schema</a>
        </div>
    </nav>

    <main class="content">
<h1>DMA Splunk Export Schema v4.3</h1>
<h2>Purpose</h2>
<p>
This document defines the <strong>guaranteed output schema</strong> for all DMA Splunk exports. Regardless of Splunk environment size, version, or deployment type, exports MUST conform to this schema so DMA can reliably parse them.
</p>
<blockquote><p><strong>Applies to all three export scripts:</strong></p></blockquote>
<blockquote><p>- <code>dma-splunk-export.sh</code> (Enterprise, Bash)</p></blockquote>
<blockquote><p>- <code>dma-splunk-cloud-export.sh</code> (Cloud, Bash)</p></blockquote>
<blockquote><p>- <code>dma-splunk-cloud-export.ps1</code> (Cloud, PowerShell)</p></blockquote>
<hr>
<h2>Archive Structure</h2>
<p>
Every export produces a <code>.tar.gz</code> archive with this <strong>exact</strong> structure:
</p>
<pre><code>dma_export_&lt;hostname&gt;_&lt;YYYYMMDD_HHMMSS&gt;.tar.gz
│
├── manifest.json                    # REQUIRED - Export metadata
├── _anonymization_report.json       # OPTIONAL - Only present if anonymization enabled
├── dma-env-summary.md        # REQUIRED - Human-readable summary
├── export.log                       # REQUIRED - Export process log
│
├── _systeminfo/                     # REQUIRED - System information
│   ├── environment.json             # REQUIRED - Standardized env info
│   ├── splunk.version               # OPTIONAL - Raw Splunk version file
│   ├── server_info.json             # OPTIONAL - REST API server info
│   ├── installed_apps.json          # OPTIONAL - All installed apps
│   ├── search_peers.json            # OPTIONAL - Distributed search peers
│   └── license_info.json            # OPTIONAL - License information
│
├── _rbac/                           # OPTIONAL - User/role data
│   ├── users.json                   # User list
│   ├── roles.json                   # Role definitions
│   ├── authentication.conf          # Auth config (passwords redacted)
│   └── authorize.conf               # Authorization config
│
├── _indexes/                        # OPTIONAL - Index information
│   ├── indexes.conf                 # Index definitions
│   ├── indexes_detailed.json        # REST API index details
│   └── data_inputs.json             # Data input configurations
│
├── _usage_analytics/                # OPTIONAL - Usage data
│   ├── recent_searches.json         # Search job history
│   ├── saved_searches_all.json      # All saved searches
│   ├── kvstore_stats.json           # KV Store statistics
│   └── server_status.json           # Server status
│
├── _system/                         # OPTIONAL - System-level configs
│   └── local/
│       ├── inputs.conf
│       ├── outputs.conf
│       └── server.conf
│
├── _audit_sample/                   # OPTIONAL - Audit log sample
│   └── audit_sample.log
│
└── &lt;app_name&gt;/                      # One directory per exported app
    ├── dashboards/                  # v2 app-centric structure (v4.2.0+)
    │   ├── classic/                 # Classic XML dashboards for this app
    │   │   └── *.xml
    │   └── studio/                  # Dashboard Studio JSON for this app
    │       └── *.json
    ├── default/
    │   ├── props.conf
    │   ├── transforms.conf
    │   ├── eventtypes.conf
    │   ├── tags.conf
    │   ├── indexes.conf
    │   ├── macros.conf
    │   ├── savedsearches.conf
    │   ├── inputs.conf
    │   ├── outputs.conf
    │   ├── collections.conf
    │   ├── fields.conf
    │   ├── workflow_actions.conf
    │   ├── commands.conf
    │   └── data/
    │       └── ui/
    │           └── views/           # Legacy location (v1 archives only)
    │               └── *.xml
    ├── local/
    │   └── (same structure as default/)
    └── lookups/                     # OPTIONAL
        └── *.csv</code></pre>
<hr>
<h2>File Source Categories</h2>
<p>
Understanding the origin of each file helps distinguish between <strong>raw Splunk data</strong> and <strong>DMA-generated migration intelligence</strong>.
</p>
<h3>Category 1: Script-Generated Analytics (DMA Migration Intelligence)</h3>
<p>
These files are <strong>created by the export script</strong> by running SPL queries against Splunk's internal indexes (<code><em>audit</code>, <code></em>internal</code>). They provide migration-specific insights that don't exist natively in Splunk.
</p>
<table>
<thead>
<tr><th>Directory</th><th>File</th><th>Purpose</th><th>SPL Query Source</th></tr>
</thead>
<tbody>
<tr><td><code>_usage_analytics/</code></td><td><code>dashboard_views_top100.json</code></td><td>Prioritize high-value dashboards</td><td><code>index=_audit action=search search_type=dashboard</code></td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>dashboards_never_viewed.json</code></td><td>Identify elimination candidates</td><td><code>index=_audit</code> + REST comparison</td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>users_most_active.json</code></td><td>Identify stakeholders</td><td><code>index=_audit action=search</code></td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>users_inactive.json</code></td><td>Skip inactive user content</td><td><code>index=_audit</code> with time filter</td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>alerts_most_fired.json</code></td><td>Critical alerts to migrate</td><td><code>index=_internal sourcetype=scheduler</code></td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>alerts_never_fired.json</code></td><td>Elimination candidates</td><td><code>index=_internal</code> + REST comparison</td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>alerts_failed.json</code></td><td>Broken alerts to fix/skip</td><td><code>index=_internal status=failed</code></td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>alerts_with_actions.json</code></td><td>Alerts with triggered actions</td><td><code>index=_internal alert_actions!=''</code></td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>alert_firing_trend.json</code></td><td>Alert activity trends</td><td><code>index=_internal sourcetype=scheduler</code></td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>sourcetypes_searched.json</code></td><td>Data sources actually used</td><td><code>index=_audit</code> with rex extraction</td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>indexes_queried.json</code></td><td>Which indexes matter</td><td><code>index=_audit</code> with rex extraction</td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>indexes_searched.json</code></td><td>Most searched indexes</td><td><code>index=_audit action=search</code></td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>index_sizes.json</code></td><td>Capacity planning</td><td>`</td><td>dbinspect` or REST</td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>daily_volume_by_index.json</code></td><td>Daily ingestion by index</td><td><code>index=_internal</code> metrics</td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>daily_volume_by_sourcetype.json</code></td><td>Daily ingestion by sourcetype</td><td><code>index=_internal</code> metrics</td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>daily_volume_summary.json</code></td><td>Overall volume metrics</td><td><code>index=_internal</code> aggregation</td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>daily_events_by_index.json</code></td><td>Event counts by index</td><td><code>index=_internal</code> metrics</td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>hourly_volume_pattern.json</code></td><td>Peak hour identification</td><td><code>index=_internal</code> timechart</td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>top_indexes_by_volume.json</code></td><td>High-volume index focus</td><td><code>index=_internal</code> stats</td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>top_sourcetypes_by_volume.json</code></td><td>High-volume sourcetype focus</td><td><code>index=_internal</code> stats</td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>top_hosts_by_volume.json</code></td><td>Host-level volume analysis</td><td><code>index=_internal</code> stats</td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>search_commands_popular.json</code></td><td>Popular SPL commands</td><td><code>index=_audit</code> with rex extraction</td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>search_by_type.json</code></td><td>Searches by type</td><td><code>index=_audit</code> stats</td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>searches_slow.json</code></td><td>Performance concerns</td><td><code>index=_audit</code> with runtime filter</td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>daily_active_users.json</code></td><td>User engagement trends</td><td><code>index=_audit</code> timechart</td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>activity_by_role.json</code></td><td>Activity by role</td><td><code>index=_audit</code> by roles</td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>dashboard_ownership.json</code></td><td>Dashboard → owner mapping</td><td>REST <code>/servicesNS/-/-/data/ui/views</code></td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>alert_ownership.json</code></td><td>Alert → owner mapping</td><td>REST <code>/servicesNS/-/-/saved/searches</code></td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>ownership_summary.json</code></td><td>Ownership by user</td><td>Aggregation of ownership data</td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>saved_searches_all.json</code></td><td>All saved searches metadata</td><td>REST <code>/servicesNS/-/-/saved/searches</code></td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>recent_searches.json</code></td><td>Recent search jobs</td><td>REST <code>/services/search/jobs</code></td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>kvstore_stats.json</code></td><td>KV Store statistics</td><td>REST <code>/services/kvstore/status</code></td></tr>
<tr><td><code>_usage_analytics/</code></td><td><code>scheduler_load.json</code></td><td>Alert/report load</td><td><code>index=_internal sourcetype=scheduler</code></td></tr>
<tr><td><code>_usage_analytics/ingestion_infrastructure/</code></td><td><code>by_connection_type.json</code></td><td>Ingestion by connection</td><td><code>index=_internal</code> metrics</td></tr>
<tr><td><code>_usage_analytics/ingestion_infrastructure/</code></td><td><code>by_input_method.json</code></td><td>Ingestion by input type</td><td><code>index=_internal</code> metrics</td></tr>
<tr><td><code>_usage_analytics/ingestion_infrastructure/</code></td><td><code>hec_usage.json</code></td><td>HEC usage metrics</td><td><code>index=_internal</code> HEC stats</td></tr>
<tr><td><code>_usage_analytics/ingestion_infrastructure/</code></td><td><code>forwarding_hosts.json</code></td><td>Forwarder host list</td><td><code>index=_internal</code> host stats</td></tr>
<tr><td><code>_usage_analytics/ingestion_infrastructure/</code></td><td><code>by_sourcetype_category.json</code></td><td>Sourcetype categories</td><td><code>index=_internal</code> stats</td></tr>
<tr><td><code>_usage_analytics/ingestion_infrastructure/</code></td><td><code>data_inputs_by_app.json</code></td><td>Inputs by app</td><td><code>index=_internal</code> stats</td></tr>
<tr><td><code>_usage_analytics/ingestion_infrastructure/</code></td><td><code>syslog_inputs.json</code></td><td>Syslog input metrics</td><td><code>index=_internal</code> syslog stats</td></tr>
<tr><td><code>_usage_analytics/ingestion_infrastructure/</code></td><td><code>scripted_inputs.json</code></td><td>Scripted input metrics</td><td><code>index=_internal</code> script stats</td></tr>
<tr><td><code>_usage_analytics/ingestion_infrastructure/</code></td><td><code>summary.json</code></td><td>Ingestion summary</td><td>Aggregation</td></tr>
<tr><td>Root</td><td><code>manifest.json</code></td><td>Master manifest with stats</td><td>Script-generated metadata</td></tr>
<tr><td><code>_systeminfo/</code></td><td><code>environment.json</code></td><td>Script-detected environment</td><td>Script environment detection</td></tr>
</tbody>
</table>
<p>
<strong>Total: ~45 script-generated files</strong> providing migration intelligence
</p>
<h3>Category 2: Raw Splunk API Exports (Direct Splunk Data)</h3>
<p>
These files are <strong>direct dumps from Splunk REST APIs</strong> - essentially reformatted native Splunk data structures with minimal transformation.
</p>
<table>
<thead>
<tr><th>Directory</th><th>File</th><th>Splunk REST API Source</th><th>Purpose</th></tr>
</thead>
<tbody>
<tr><td><code>_systeminfo/</code></td><td><code>server_info.json</code></td><td><code>GET /services/server/info</code></td><td>Splunk version, platform</td></tr>
<tr><td><code>_systeminfo/</code></td><td><code>installed_apps.json</code></td><td><code>GET /services/apps/local</code></td><td>App inventory</td></tr>
<tr><td><code>_systeminfo/</code></td><td><code>search_peers.json</code></td><td><code>GET /services/search/distributed/peers</code></td><td>Distributed search topology</td></tr>
<tr><td><code>_systeminfo/</code></td><td><code>license_info.json</code></td><td><code>GET /services/licenser/licenses</code></td><td>License details</td></tr>
<tr><td><code>_rbac/</code></td><td><code>users.json</code></td><td><code>GET /services/authentication/users</code></td><td>User accounts</td></tr>
<tr><td><code>_rbac/</code></td><td><code>roles.json</code></td><td><code>GET /services/authorization/roles</code></td><td>Role definitions</td></tr>
<tr><td><code>_indexes/</code></td><td><code>indexes_detailed.json</code></td><td><code>GET /services/data/indexes</code></td><td>Index configurations</td></tr>
<tr><td><code>_indexes/</code></td><td><code>data_inputs.json</code></td><td><code>GET /services/data/inputs/all</code></td><td>Data input definitions</td></tr>
<tr><td><code><app>/dashboards/studio/</code></td><td><code>{dashboard_name}.json</code></td><td><code>GET /servicesNS/{owner}/{app}/data/ui/views/{name}</code></td><td>Dashboard Studio JSON (v2 structure)</td></tr>
<tr><td><code><app>/dashboards/classic/</code></td><td><code>{dashboard_name}.xml</code></td><td><code>GET /servicesNS/{owner}/{app}/data/ui/views/{name}</code></td><td>Classic XML dashboards (v2 structure)</td></tr>
</tbody>
</table>
<p>
<strong>Total: ~10 base files + N dashboard files</strong> (direct Splunk exports)
</p>
<h3>Category 3: Raw File System Exports (Splunk Configuration Files)</h3>
<p>
These are <strong>direct copies</strong> of Splunk configuration files from the file system (<code>$SPLUNK_HOME/etc/</code>).
</p>
<table>
<thead>
<tr><th>Directory</th><th>Files</th><th>Source Location</th></tr>
</thead>
<tbody>
<tr><td><code><app_name>/default/</code></td><td><code>*.conf</code> files</td><td><code>$SPLUNK_HOME/etc/apps/<app>/default/</code></td></tr>
<tr><td><code><app_name>/local/</code></td><td><code>*.conf</code> files</td><td><code>$SPLUNK_HOME/etc/apps/<app>/local/</code></td></tr>
<tr><td><code><app_name>/default/data/ui/views/</code></td><td><code>*.xml</code> dashboards</td><td>Classic SimpleXML dashboards</td></tr>
<tr><td><code><app_name>/lookups/</code></td><td><code>*.csv</code> files</td><td>Lookup table data</td></tr>
<tr><td><code>_system/local/</code></td><td><code>inputs.conf</code>, <code>outputs.conf</code>, etc.</td><td><code>$SPLUNK_HOME/etc/system/local/</code></td></tr>
<tr><td><code>_rbac/</code></td><td><code>authentication.conf</code>, <code>authorize.conf</code></td><td>System auth configs</td></tr>
<tr><td><code>_indexes/</code></td><td><code>indexes.conf</code></td><td>Index definitions</td></tr>
</tbody>
</table>
<h3>Summary: File Source Distribution</h3>
<table>
<thead>
<tr><th>Category</th><th>Files</th><th>Purpose</th></tr>
</thead>
<tbody>
<tr><td><strong>Script-Generated Analytics</strong></td><td>~45</td><td>Migration intelligence (prioritization, elimination candidates, usage patterns)</td></tr>
<tr><td><strong>Raw API Exports</strong></td><td>~10 + dashboards</td><td>Direct Splunk data structures</td></tr>
<tr><td><strong>Raw File Exports</strong></td><td>Variable (per app)</td><td>Configuration files copied from disk</td></tr>
</tbody>
</table>
<h3>Why This Matters</h3>
<ol>
<li><strong>Script-Generated Analytics</strong> = <strong>Unique DMA Value</strong></li>
</ol>
<ul>
<li>These don't exist in Splunk natively</li>
<li>Enable data-driven migration prioritization</li>
<li>Identify what to migrate vs. eliminate</li>
</ul>
<ol>
<li><strong>Raw Exports</strong> = <strong>Source of Truth</strong></li>
</ol>
<ul>
<li>Exact representation of Splunk configurations</li>
<li>Required for accurate conversion to Dynatrace</li>
<li>No transformation applied</li>
</ul>
<hr>
<h2>manifest.json (REQUIRED)</h2>
<p>
Every export MUST include a <code>manifest.json</code> at the root with this exact schema:
</p>
<pre><code class="language-json">{
  &quot;schema_version&quot;: &quot;4.0&quot;,
  &quot;export_tool&quot;: &quot;dma-splunk-export&quot;,
  &quot;export_tool_version&quot;: &quot;4.0.0&quot;,
  &quot;export_timestamp&quot;: &quot;2025-12-03T14:25:30Z&quot;,
  &quot;export_duration_seconds&quot;: 847,

  &quot;source&quot;: {
    &quot;hostname&quot;: &quot;splunk-sh01.example.com&quot;,
    &quot;fqdn&quot;: &quot;splunk-sh01.example.com&quot;,
    &quot;ip_addresses&quot;: [&quot;10.0.1.50&quot;, &quot;192.168.1.50&quot;],
    &quot;platform&quot;: &quot;Linux&quot;,
    &quot;platform_version&quot;: &quot;5.4.0-150-generic&quot;,
    &quot;architecture&quot;: &quot;x86_64&quot;
  },

  &quot;splunk&quot;: {
    &quot;home&quot;: &quot;/opt/splunk&quot;,
    &quot;version&quot;: &quot;9.1.3&quot;,
    &quot;build&quot;: &quot;d95b3299fa65&quot;,
    &quot;flavor&quot;: &quot;enterprise&quot;,
    &quot;role&quot;: &quot;search_head&quot;,
    &quot;architecture&quot;: &quot;distributed&quot;,
    &quot;is_shc_member&quot;: true,
    &quot;is_shc_captain&quot;: false,
    &quot;is_idx_cluster&quot;: true,
    &quot;is_cloud&quot;: false,
    &quot;license_type&quot;: &quot;enterprise&quot;,
    &quot;license_quota_gb&quot;: 500
  },

  &quot;collection&quot;: {
    &quot;configs&quot;: true,
    &quot;dashboards&quot;: true,
    &quot;alerts&quot;: true,
    &quot;rbac&quot;: true,
    &quot;usage_analytics&quot;: true,
    &quot;usage_period&quot;: &quot;30d&quot;,
    &quot;indexes&quot;: true,
    &quot;lookups&quot;: false,
    &quot;audit_sample&quot;: false,
    &quot;data_anonymized&quot;: false
  },

  &quot;statistics&quot;: {
    &quot;apps_exported&quot;: 47,
    &quot;dashboards_classic&quot;: 312,
    &quot;dashboards_studio&quot;: 89,
    &quot;dashboards_total&quot;: 401,
    &quot;alerts&quot;: 156,
    &quot;saved_searches&quot;: 523,
    &quot;users&quot;: 87,
    &quot;roles&quot;: 23,
    &quot;indexes&quot;: 45,
    &quot;data_inputs&quot;: 234,
    &quot;lookups&quot;: 0,
    &quot;macros&quot;: 178,
    &quot;eventtypes&quot;: 45,
    &quot;props_stanzas&quot;: 892,
    &quot;transforms_stanzas&quot;: 234,
    &quot;errors&quot;: 3,
    &quot;warnings&quot;: 12
  },

  &quot;apps&quot;: [
    {
      &quot;name&quot;: &quot;security_app&quot;,
      &quot;label&quot;: &quot;Security Operations&quot;,
      &quot;version&quot;: &quot;2.3.1&quot;,
      &quot;dashboards&quot;: 87,
      &quot;alerts&quot;: 45,
      &quot;saved_searches&quot;: 123,
      &quot;has_props&quot;: true,
      &quot;has_transforms&quot;: true,
      &quot;has_lookups&quot;: false
    },
    {
      &quot;name&quot;: &quot;ops_monitoring&quot;,
      &quot;label&quot;: &quot;Operations Monitoring&quot;,
      &quot;version&quot;: &quot;1.5.0&quot;,
      &quot;dashboards&quot;: 45,
      &quot;alerts&quot;: 23,
      &quot;saved_searches&quot;: 67,
      &quot;has_props&quot;: true,
      &quot;has_transforms&quot;: false,
      &quot;has_lookups&quot;: true
    }
  ],

  &quot;indexes_summary&quot;: [
    {
      &quot;name&quot;: &quot;main&quot;,
      &quot;size_mb&quot;: 125000,
      &quot;event_count&quot;: 45000000,
      &quot;earliest_time&quot;: &quot;2024-01-01T00:00:00Z&quot;,
      &quot;latest_time&quot;: &quot;2025-12-03T14:00:00Z&quot;
    },
    {
      &quot;name&quot;: &quot;security&quot;,
      &quot;size_mb&quot;: 89000,
      &quot;event_count&quot;: 23000000,
      &quot;earliest_time&quot;: &quot;2024-06-01T00:00:00Z&quot;,
      &quot;latest_time&quot;: &quot;2025-12-03T14:00:00Z&quot;
    }
  ],

  &quot;data_sources_summary&quot;: [
    {
      &quot;sourcetype&quot;: &quot;access_combined&quot;,
      &quot;index&quot;: &quot;web&quot;,
      &quot;estimated_eps&quot;: 5000,
      &quot;sample_count&quot;: 1000000
    },
    {
      &quot;sourcetype&quot;: &quot;syslog&quot;,
      &quot;index&quot;: &quot;main&quot;,
      &quot;estimated_eps&quot;: 12000,
      &quot;sample_count&quot;: 5000000
    }
  ],

  &quot;checksums&quot;: {
    &quot;algorithm&quot;: &quot;sha256&quot;,
    &quot;manifest&quot;: &quot;a1b2c3d4...&quot;,
    &quot;total_files&quot;: 1247,
    &quot;total_size_bytes&quot;: 48923847
  },

  &quot;usage_intelligence&quot;: {
    &quot;summary&quot;: {
      &quot;dashboards_never_viewed&quot;: 45,
      &quot;alerts_never_fired&quot;: 23,
      &quot;users_inactive_30d&quot;: 12,
      &quot;alerts_with_failures&quot;: 8
    },
    &quot;prioritization&quot;: {
      &quot;top_dashboards&quot;: [
        {&quot;dashboard&quot;: &quot;security_overview&quot;, &quot;app&quot;: &quot;security_app&quot;, &quot;views&quot;: 15234},
        {&quot;dashboard&quot;: &quot;ops_dashboard&quot;, &quot;app&quot;: &quot;ops_monitoring&quot;, &quot;views&quot;: 8901}
      ],
      &quot;top_users&quot;: [
        {&quot;user&quot;: &quot;admin&quot;, &quot;searches&quot;: 45123, &quot;last_active&quot;: &quot;2025-12-03&quot;},
        {&quot;user&quot;: &quot;analyst1&quot;, &quot;searches&quot;: 23456, &quot;last_active&quot;: &quot;2025-12-02&quot;}
      ],
      &quot;top_alerts&quot;: [
        {&quot;alert&quot;: &quot;critical_error_alert&quot;, &quot;app&quot;: &quot;security_app&quot;, &quot;executions&quot;: 8923},
        {&quot;alert&quot;: &quot;disk_space_warning&quot;, &quot;app&quot;: &quot;ops_monitoring&quot;, &quot;executions&quot;: 5634}
      ],
      &quot;top_sourcetypes&quot;: [
        {&quot;sourcetype&quot;: &quot;access_combined&quot;, &quot;searches&quot;: 12345},
        {&quot;sourcetype&quot;: &quot;syslog&quot;, &quot;searches&quot;: 9876}
      ],
      &quot;top_indexes&quot;: [
        {&quot;index&quot;: &quot;main&quot;, &quot;searches&quot;: 34567},
        {&quot;index&quot;: &quot;security&quot;, &quot;searches&quot;: 23456}
      ]
    },
    &quot;volume&quot;: {
      &quot;avg_daily_gb&quot;: 125.5,
      &quot;peak_daily_gb&quot;: 189.2,
      &quot;total_30d_gb&quot;: 3765.0,
      &quot;top_indexes_by_volume&quot;: [
        {&quot;idx&quot;: &quot;main&quot;, &quot;daily_avg_gb&quot;: 45.2},
        {&quot;idx&quot;: &quot;security&quot;, &quot;daily_avg_gb&quot;: 32.1}
      ],
      &quot;top_sourcetypes_by_volume&quot;: [
        {&quot;st&quot;: &quot;access_combined&quot;, &quot;daily_avg_gb&quot;: 28.5},
        {&quot;st&quot;: &quot;syslog&quot;, &quot;daily_avg_gb&quot;: 22.3}
      ],
      &quot;top_hosts_by_volume&quot;: [
        {&quot;h&quot;: &quot;webserver01&quot;, &quot;daily_avg_gb&quot;: 5.2},
        {&quot;h&quot;: &quot;appserver01&quot;, &quot;daily_avg_gb&quot;: 4.8}
      ],
      &quot;note&quot;: &quot;See _usage_analytics/daily_volume_*.json for full daily breakdown&quot;
    },
    &quot;elimination_candidates&quot;: {
      &quot;dashboards_never_viewed_count&quot;: 45,
      &quot;alerts_never_fired_count&quot;: 23,
      &quot;note&quot;: &quot;See _usage_analytics/ for full lists of candidates&quot;
    },
    &quot;ownership&quot;: {
      &quot;dashboard_owners&quot;: 45,
      &quot;alert_owners&quot;: 32,
      &quot;top_owners&quot;: [
        {&quot;owner&quot;: &quot;admin&quot;, &quot;dashboards&quot;: 87, &quot;alerts&quot;: 45},
        {&quot;owner&quot;: &quot;analyst1&quot;, &quot;dashboards&quot;: 34, &quot;alerts&quot;: 23},
        {&quot;owner&quot;: &quot;security_team&quot;, &quot;dashboards&quot;: 28, &quot;alerts&quot;: 18}
      ],
      &quot;note&quot;: &quot;See _usage_analytics/dashboard_ownership.json and alert_ownership.json for complete mappings&quot;
    }
  }
}</code></pre>
<hr>
<h2>environment.json (REQUIRED)</h2>
<p>
Located at <code>_systeminfo/environment.json</code>:
</p>
<pre><code class="language-json">{
  &quot;hostname&quot;: &quot;splunk-sh01&quot;,
  &quot;fqdn&quot;: &quot;splunk-sh01.example.com&quot;,
  &quot;platform&quot;: &quot;Linux&quot;,
  &quot;platform_version&quot;: &quot;5.4.0-150-generic&quot;,
  &quot;architecture&quot;: &quot;x86_64&quot;,
  &quot;splunk_home&quot;: &quot;/opt/splunk&quot;,
  &quot;splunk_flavor&quot;: &quot;enterprise&quot;,
  &quot;splunk_role&quot;: &quot;search_head&quot;,
  &quot;splunk_architecture&quot;: &quot;distributed&quot;,
  &quot;splunk_version&quot;: &quot;9.1.3&quot;,
  &quot;export_timestamp&quot;: &quot;2025-12-03T14:25:30Z&quot;,
  &quot;export_version&quot;: &quot;4.0.0&quot;,
  &quot;timezone&quot;: &quot;UTC&quot;,
  &quot;locale&quot;: &quot;en_US.UTF-8&quot;
}</code></pre>
<hr>
<h2><em>anonymization</em>report.json (OPTIONAL)</h2>
<p>
This file is <strong>only present when data anonymization is enabled</strong> (Option 9 in Enterprise, Option 8 in Cloud). It documents the anonymization process and serves as a receipt confirming the export has been sanitized.
</p>
<h3>Two-Archive Approach (v4.2.4+)</h3>
<p>
When anonymization is enabled, the export script creates <strong>TWO separate archives</strong>:
</p>
<table>
<thead>
<tr><th>Archive</th><th>Content</th><th>Purpose</th></tr>
</thead>
<tbody>
<tr><td><code>{export_name}.tar.gz</code></td><td><strong>Original, untouched data</strong></td><td>Keep for your records; re-run anonymization if needed</td></tr>
<tr><td><code>{export_name}_masked.tar.gz</code></td><td><strong>Anonymized copy</strong></td><td>Safe to share with consultants, support teams, external parties</td></tr>
</tbody>
</table>
<p>
<strong>Why Two Archives?</strong>
</p>
<ul>
<li>Preserves original data in case anonymization corrupts files</li>
<li>Allows re-running anonymization without re-running the entire export</li>
<li>Clear naming makes it obvious which file is safe to share</li>
</ul>
<p>
The <code><em>anonymization</em>report.json</code> file is <strong>only present in the <code>_masked</code> archive</strong>.
</p>
<h3>Schema</h3>
<pre><code class="language-json">{
  &quot;anonymization_applied&quot;: true,
  &quot;timestamp&quot;: &quot;2025-12-10T15:30:45Z&quot;,
  &quot;statistics&quot;: {
    &quot;files_processed&quot;: 847,
    &quot;unique_emails_anonymized&quot;: 156,
    &quot;unique_hosts_anonymized&quot;: 89,
    &quot;ip_addresses&quot;: &quot;all_redacted&quot;
  },
  &quot;transformations&quot;: {
    &quot;emails&quot;: &quot;original@domain.com → user######@anon.dma.local&quot;,
    &quot;hostnames&quot;: &quot;server.example.com → host-########.anon.local&quot;,
    &quot;ipv4&quot;: &quot;x.x.x.x → [IP-REDACTED]&quot;,
    &quot;ipv6&quot;: &quot;xxxx:xxxx:... → [IPv6-REDACTED]&quot;
  },
  &quot;note&quot;: &quot;This export has been anonymized. Original values cannot be recovered from this data.&quot;
}</code></pre>
<h3>Field Descriptions</h3>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td><code>anonymization_applied</code></td><td>boolean</td><td>Always <code>true</code> when this file exists</td></tr>
<tr><td><code>timestamp</code></td><td>ISO 8601</td><td>When anonymization was performed</td></tr>
<tr><td><code>statistics.files_processed</code></td><td>number</td><td>Total text files scanned</td></tr>
<tr><td><code>statistics.unique_emails_anonymized</code></td><td>number</td><td>Unique email addresses replaced</td></tr>
<tr><td><code>statistics.unique_hosts_anonymized</code></td><td>number</td><td>Unique hostnames replaced</td></tr>
<tr><td><code>statistics.ip_addresses</code></td><td>string</td><td>Always "all_redacted"</td></tr>
<tr><td><code>transformations</code></td><td>object</td><td>Example mappings showing the pattern used</td></tr>
<tr><td><code>note</code></td><td>string</td><td>Warning about irreversibility</td></tr>
</tbody>
</table>
<h3>Key Properties</h3>
<ul>
<li><strong>Consistent Mapping</strong>: The same original email/hostname always produces the same anonymized value (hash-based)</li>
<li><strong>Irreversible</strong>: SHA-256 hashing means originals cannot be recovered</li>
<li><strong>Preserved Relationships</strong>: Data relationships remain intact (e.g., all references to <code>server-01</code> become the same anonymized value)</li>
<li><strong>Selective Preservation</strong>: <code>localhost</code> and <code>127.0.0.1</code> are NOT anonymized</li>
</ul>
<h3>When to Expect This File</h3>
<ul>
<li>✅ Present when user selects anonymization option</li>
<li>❌ Absent when anonymization is not selected</li>
<li>Check <code>manifest.json.collection.data_anonymized</code> to programmatically detect</li>
</ul>
<hr>
<h2>usage_intelligence (OPTIONAL)</h2>
<p>
The <code>usage_intelligence</code> section in <code>manifest.json</code> provides programmatic access to usage analytics for migration prioritization. This data is only available if usage collection was enabled during export.
</p>
<h3>Purpose</h3>
<p>
This section helps answer critical migration questions:
</p>
<ul>
<li><strong>What should we migrate first?</strong> → <code>prioritization.top_*</code> arrays</li>
<li><strong>What can we skip?</strong> → <code>elimination_candidates.*</code> counts</li>
<li><strong>Where are the active users?</strong> → <code>prioritization.top_users</code></li>
<li><strong>Which data sources matter?</strong> → <code>prioritization.top_sourcetypes/indexes</code></li>
<li><strong>How much data per day?</strong> → <code>volume.avg<em>daily</em>gb</code>, <code>volume.peak<em>daily</em>gb</code></li>
<li><strong>What are the biggest data sources?</strong> → <code>volume.top<em>*</em>by_volume</code> arrays</li>
<li><strong>Who owns what?</strong> → <code>ownership.*</code> for user-centric migration</li>
</ul>
<h3>Schema</h3>
<table>
<thead>
<tr><th>Field</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td><code>summary.dashboards_never_viewed</code></td><td>number</td><td>Count of dashboards with zero views in 30d</td></tr>
<tr><td><code>summary.alerts_never_fired</code></td><td>number</td><td>Count of alerts that never executed in 30d</td></tr>
<tr><td><code>summary.users_inactive_30d</code></td><td>number</td><td>Count of users with no activity in 30d</td></tr>
<tr><td><code>summary.alerts_with_failures</code></td><td>number</td><td>Count of alerts with execution failures</td></tr>
<tr><td><code>volume.avg_daily_gb</code></td><td>number</td><td>Average daily ingestion volume in GB</td></tr>
<tr><td><code>volume.peak_daily_gb</code></td><td>number</td><td>Peak daily ingestion volume in GB</td></tr>
<tr><td><code>volume.total_30d_gb</code></td><td>number</td><td>Total ingestion volume over 30 days in GB</td></tr>
<tr><td><code>volume.top_indexes_by_volume</code></td><td>array</td><td>Top 10 indexes by daily average volume</td></tr>
<tr><td><code>volume.top_sourcetypes_by_volume</code></td><td>array</td><td>Top 10 sourcetypes by daily average volume</td></tr>
<tr><td><code>volume.top_hosts_by_volume</code></td><td>array</td><td>Top 10 hosts by daily average volume</td></tr>
<tr><td><code>prioritization.top_dashboards</code></td><td>array</td><td>Top 10 most viewed dashboards</td></tr>
<tr><td><code>prioritization.top_users</code></td><td>array</td><td>Top 10 most active users</td></tr>
<tr><td><code>prioritization.top_alerts</code></td><td>array</td><td>Top 10 most fired alerts</td></tr>
<tr><td><code>prioritization.top_sourcetypes</code></td><td>array</td><td>Top 10 most searched sourcetypes</td></tr>
<tr><td><code>prioritization.top_indexes</code></td><td>array</td><td>Top 10 most queried indexes</td></tr>
<tr><td><code>elimination_candidates.note</code></td><td>string</td><td>Reference to full data in <code>_usage_analytics/</code></td></tr>
<tr><td><code>ownership.dashboard_owners</code></td><td>number</td><td>Count of unique dashboard owners</td></tr>
<tr><td><code>ownership.alert_owners</code></td><td>number</td><td>Count of unique alert owners</td></tr>
<tr><td><code>ownership.top_owners</code></td><td>array</td><td>Top owners with dashboard and alert counts</td></tr>
<tr><td><code>ownership.note</code></td><td>string</td><td>Reference to ownership files in <code>_usage_analytics/</code></td></tr>
</tbody>
</table>
<h3>Volume Files Reference</h3>
<table>
<thead>
<tr><th>File</th><th>Content</th><th>Use For</th></tr>
</thead>
<tbody>
<tr><td><code>daily_volume_by_index.json</code></td><td>Daily GB by index (30 days)</td><td>Capacity planning by index</td></tr>
<tr><td><code>daily_volume_by_sourcetype.json</code></td><td>Daily GB by sourcetype (30 days)</td><td>Capacity planning by data type</td></tr>
<tr><td><code>daily_volume_summary.json</code></td><td>Avg, peak, total volume</td><td>License planning</td></tr>
<tr><td><code>daily_events_by_index.json</code></td><td>Daily event counts by index</td><td>Event rate estimation</td></tr>
<tr><td><code>hourly_volume_pattern.json</code></td><td>Volume by hour (7 days)</td><td>Peak hour identification</td></tr>
<tr><td><code>top_indexes_by_volume.json</code></td><td>Top 20 indexes by daily avg</td><td>High-volume index focus</td></tr>
<tr><td><code>top_sourcetypes_by_volume.json</code></td><td>Top 20 sourcetypes by daily avg</td><td>High-volume sourcetype focus</td></tr>
<tr><td><code>top_hosts_by_volume.json</code></td><td>Top 50 hosts by daily avg</td><td>Host-level volume analysis</td></tr>
</tbody>
</table>
<h3>Ownership Files Reference</h3>
<table>
<thead>
<tr><th>File</th><th>Content</th><th>Use For</th></tr>
</thead>
<tbody>
<tr><td><code>dashboard_ownership.json</code></td><td>All dashboards with owner, app, sharing</td><td>Show users their own dashboards</td></tr>
<tr><td><code>alert_ownership.json</code></td><td>All alerts with owner, app, sharing, schedule</td><td>Show users their own alerts</td></tr>
<tr><td><code>ownership_summary.json</code></td><td>Owners with dashboard and alert counts</td><td>Identify major content creators</td></tr>
</tbody>
</table>
<p>
<strong>Example dashboard_ownership.json:</strong>
</p>
<pre><code class="language-json">{
  &quot;results&quot;: [
    {&quot;dashboard&quot;: &quot;security_overview&quot;, &quot;app&quot;: &quot;security_app&quot;, &quot;owner&quot;: &quot;splunk_user&quot;, &quot;sharing&quot;: &quot;app&quot;},
    {&quot;dashboard&quot;: &quot;incident_tracker&quot;, &quot;app&quot;: &quot;security_app&quot;, &quot;owner&quot;: &quot;splunk_user&quot;, &quot;sharing&quot;: &quot;global&quot;},
    {&quot;dashboard&quot;: &quot;system_health&quot;, &quot;app&quot;: &quot;ops_monitoring&quot;, &quot;owner&quot;: &quot;admin&quot;, &quot;sharing&quot;: &quot;app&quot;}
  ]
}</code></pre>
<p>
<strong>Use Case - User-Centric Migration:</strong>
When a user logs into Dynatrace, show them only their Splunk dashboards:
</p>
<pre><code class="language-typescript">// Filter dashboards for current user
const userDashboards = ownership.results.filter(d =&gt; d.owner === currentUser);</code></pre>
<h3>Migration Decision Matrix</h3>
<pre><code>HIGH USAGE                    LOW USAGE
                ┌─────────────────────────┬─────────────────────────┐
   HIGH VALUE   │ ★ MIGRATE FIRST         │ Review with stakeholders│
                │ Top dashboards, alerts  │ May have seasonal use   │
                ├─────────────────────────┼─────────────────────────┤
   LOW VALUE    │ Consider migrating      │ ✗ ELIMINATE             │
                │ Users depend on these   │ Never viewed/fired      │
                └─────────────────────────┴─────────────────────────┘</code></pre>
<hr>
<h2>Guaranteed Fields by Category</h2>
<h3>Apps (per app directory)</h3>
<table>
<thead>
<tr><th>File</th><th>Guaranteed Fields</th><th>Notes</th></tr>
</thead>
<tbody>
<tr><td><code>savedsearches.conf</code></td><td><code>[stanza_name]</code>, <code>search</code>, <code>cron_schedule</code>, <code>alert.*</code></td><td>Alerts have <code>alert.track = 1</code></td></tr>
<tr><td><code>props.conf</code></td><td><code>[stanza_name]</code>, <code>TRANSFORMS-<em></code>, <code>EXTRACT-</em></code>, <code>REPORT-*</code></td><td>Field extractions</td></tr>
<tr><td><code>transforms.conf</code></td><td><code>[stanza_name]</code>, <code>REGEX</code>, <code>FORMAT</code>, <code>DEST_KEY</code></td><td>Transform definitions</td></tr>
<tr><td><code>macros.conf</code></td><td><code>[macro_name]</code>, <code>definition</code>, <code>args</code></td><td>Search macros</td></tr>
<tr><td><code>eventtypes.conf</code></td><td><code>[eventtype_name]</code>, <code>search</code></td><td>Event classifications</td></tr>
<tr><td><code>tags.conf</code></td><td><code>[source/sourcetype/eventtype]</code>, <code>tag=value</code></td><td>Tags</td></tr>
</tbody>
</table>
<h3>Dashboard XML (Classic)</h3>
<p>
All dashboard XML files must be valid Splunk SimpleXML:
</p>
<pre><code class="language-xml">&lt;dashboard version=&quot;1.1&quot;&gt;
  &lt;label&gt;Dashboard Title&lt;/label&gt;
  &lt;description&gt;Description text&lt;/description&gt;
  &lt;row&gt;
    &lt;panel&gt;
      &lt;title&gt;Panel Title&lt;/title&gt;
      &lt;chart&gt;
        &lt;search&gt;
          &lt;query&gt;index=main | stats count by sourcetype&lt;/query&gt;
          &lt;earliest&gt;-24h@h&lt;/earliest&gt;
          &lt;latest&gt;now&lt;/latest&gt;
        &lt;/search&gt;
      &lt;/chart&gt;
    &lt;/panel&gt;
  &lt;/row&gt;
&lt;/dashboard&gt;</code></pre>
<h3>Dashboard Studio JSON</h3>
<pre><code class="language-json">{
  &quot;visualizations&quot;: {},
  &quot;dataSources&quot;: {},
  &quot;inputs&quot;: {},
  &quot;layout&quot;: {},
  &quot;title&quot;: &quot;Dashboard Title&quot;,
  &quot;description&quot;: &quot;Description&quot;
}</code></pre>
<hr>
<h2>Validation Rules</h2>
<p>
DMA validates exports against these rules:
</p>
<h3>MUST Have (Export Fails Without These)</h3>
<ol>
<li><code>manifest.json</code> exists and is valid JSON</li>
<li><code>manifest.json.schema_version</code> is "3.1" or higher</li>
<li><code>_systeminfo/environment.json</code> exists</li>
<li>At least one of: apps directory OR <code>_systeminfo/</code> content</li>
</ol>
<h3>SHOULD Have (Warnings If Missing)</h3>
<ol>
<li><code>export.log</code> for troubleshooting</li>
<li><code>dma-env-summary.md</code> for human review</li>
<li><code>manifest.json.statistics</code> section populated</li>
<li><code>manifest.json.usage_intelligence</code> section (for migration prioritization)</li>
</ol>
<h3>Data Quality Checks</h3>
<ol>
<li>All <code>.conf</code> files are valid INI format</li>
<li>All <code>.json</code> files are valid JSON</li>
<li>All <code>.xml</code> dashboard files are valid XML</li>
<li>No binary files in unexpected locations</li>
<li>File paths don't contain <code>..</code> (path traversal)</li>
</ol>
<hr>
<h2>Handling Missing Data</h2>
<p>
When data is unavailable (no REST API access, permissions, etc.):
</p>
<ol>
<li><strong>Directory still created</strong> but empty or with placeholder</li>
<li><strong>manifest.json</strong> reflects actual collection status</li>
<li><strong>Warning logged</strong> to <code>export.log</code></li>
</ol>
<p>
Example for missing RBAC:
</p>
<pre><code class="language-json">{
  &quot;collection&quot;: {
    &quot;rbac&quot;: false,
    &quot;rbac_skip_reason&quot;: &quot;REST API authentication failed&quot;
  },
  &quot;statistics&quot;: {
    &quot;users&quot;: 0,
    &quot;roles&quot;: 0
  }
}</code></pre>
<hr>
<h2>Versioning</h2>
<table>
<thead>
<tr><th>Schema Version</th><th>Export Tool Version</th><th>Changes</th></tr>
</thead>
<tbody>
<tr><td>4.0</td><td>4.2.4</td><td>Two-archive anonymization (original + _masked), RBAC/usage OFF by default, query optimizations</td></tr>
<tr><td>4.0</td><td>4.2.0</td><td>App-centric dashboard structure (v2): <code>{AppName}/dashboards/classic/</code> and <code>{AppName}/dashboards/studio/</code></td></tr>
<tr><td>4.0</td><td>4.1.0</td><td>App-scoped export mode (<code>--apps</code>, <code>--scoped</code>, <code>--quick</code>), debug mode</td></tr>
<tr><td>4.0</td><td>4.0.2</td><td>Auto-fix for CRLF line endings (Windows download compatibility)</td></tr>
<tr><td>4.0</td><td>4.0.1</td><td>Container-friendly progress display (newlines at 5% intervals for kubectl/docker exec)</td></tr>
<tr><td>4.0</td><td>4.0.0</td><td>Enterprise resilience: paginated APIs, checkpoints, extended timeouts, timing stats</td></tr>
<tr><td>3.4</td><td>3.4.0</td><td>Added ownership mapping for user-centric migration (dashboard_ownership.json, alert_ownership.json)</td></tr>
<tr><td>3.3</td><td>3.3.0</td><td>Added daily volume analysis and volume section to usage_intelligence</td></tr>
<tr><td>3.2</td><td>3.2.0</td><td>Added usage_intelligence to manifest.json for programmatic migration prioritization</td></tr>
<tr><td>3.1</td><td>3.1.0</td><td>Added progress tracking, histograms, timing</td></tr>
<tr><td>3.0</td><td>3.0.0</td><td>Initial standardized schema</td></tr>
</tbody>
</table>
<hr>
<h2>Example: Minimal Valid Export</h2>
<p>
The smallest valid export contains:
</p>
<pre><code>dma_export_splunk01_20251203_142530.tar.gz
├── manifest.json
├── _systeminfo/
│   └── environment.json
└── (empty or minimal app content)</code></pre>
<p>
With <code>manifest.json</code>:
</p>
<pre><code class="language-json">{
  &quot;schema_version&quot;: &quot;4.0&quot;,
  &quot;export_tool&quot;: &quot;dma-splunk-export&quot;,
  &quot;export_tool_version&quot;: &quot;4.0.0&quot;,
  &quot;export_timestamp&quot;: &quot;2025-12-03T14:25:30Z&quot;,
  &quot;source&quot;: {
    &quot;hostname&quot;: &quot;splunk01&quot;
  },
  &quot;splunk&quot;: {
    &quot;flavor&quot;: &quot;uf&quot;,
    &quot;role&quot;: &quot;universal_forwarder&quot;
  },
  &quot;statistics&quot;: {
    &quot;apps_exported&quot;: 0,
    &quot;dashboards_total&quot;: 0
  }
}</code></pre>
<hr>
<h2>DMA Parser Contract</h2>
<p>
DMA guarantees it can parse any export conforming to this schema:
</p>
<pre><code class="language-typescript">interface DMAExport {
  manifest: ExportManifest;           // Always present
  systemInfo: SystemInfo;             // Always present
  apps: Map&lt;string, AppExport&gt;;       // May be empty
  dashboardStudio: DashboardStudio[]; // May be empty
  rbac?: RBACExport;                  // Optional
  indexes?: IndexExport;              // Optional
  usageAnalytics?: UsageExport;       // Optional
}</code></pre>
<p>
The parser handles:
</p>
<ul>
<li>Missing optional directories gracefully</li>
<li>Partial data (some apps exported, others failed)</li>
<li>Version differences (backward compatible)</li>
<li>Encoding variations (UTF-8, UTF-16, etc.)</li>
</ul>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-logo">Dynatrace Migration Assistant</div>
            <p>Migration intelligence for Splunk to Dynatrace Gen3 Grail</p>
            <div class="footer-links">
                <a href="README-SPLUNK-ENTERPRISE.html">Enterprise Guide</a>
                <a href="README-SPLUNK-CLOUD.html">Cloud Guide</a>
                <a href="SCRIPT-GENERATED-ANALYTICS-REFERENCE.html">Analytics</a>
                <a href="EXPORT-SCHEMA.html">Schema</a>
            </div>
            <p class="footer-copyright">DMA Project &bull; Built for Dynatrace Gen3 Platform</p>
        </div>
    </footer>
</body>
</html>
